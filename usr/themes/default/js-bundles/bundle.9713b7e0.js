(()=>{var mobileHover=function(){$("*").on("touchstart",(function(){$(this).trigger("hover")})).on("touchend",(function(){$(this).trigger("hover")}))};function switchNightMode(){"0"==(document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0")?(document.querySelector('link[title="dark"]').disabled=!0,document.querySelector('link[title="dark"]').disabled=!1,document.cookie="night=1;path=/",toastr.info("夜间模式开启")):(document.querySelector('link[title="dark"]').disabled=!0,document.cookie="night=0;path=/",toastr.info("夜间模式关闭"))}function pjax_click(){if("undefined"!=typeof aplayers)for(var e=0;e<aplayers.length;e++)try{aplayers[e].destroy()}catch(e){}}function pjax_send(){$("#M").addClass("opacity-disappear"),$(".toc").length&&tocbot.destroy(),"undefined"!=typeof NProgress&&NProgress.start()}function pjax_complete(){"undefined"!=typeof Prism&&Prism.highlightAll(!0,null);var isFunction=!1;try{isFunction="function"==typeof eval("loadMeting")}catch(e){}isFunction&&loadMeting(),$("#M").addClass("opacity-show"),PreFancybox(),imageinfo(),toc(),collapse_toggle(),jQuery(document).ready((function(e){e("img.lazyload").lazyload({threshold:100,effect:"fadeIn"})})),ajaxc(),"undefined"!=typeof NProgress&&NProgress.done()}function PreFancybox(){$("#post img").each((function(){$(this).wrap((function(){return $(this).is(".bq")||$(this).is("#feedme-content img")?"":'<a data-fancybox="gallery" no-pjax data-type="image" href="'+$(this).attr("src")+'" class="light-link"></a>'}))}))}function imageinfo(){$("#post img").each((function(){$(this).wrap((function(){return $(this).is(".bq")||$(this).is("#feedme-content img")?"":($(this).addClass("lazyload"),$(this).attr("data-original",$(this).attr("src")),$(this).attr("src","https://cdn.jsdelivr.net/gh/youranreus/R@v1.1.5/G/image/loading2.gif"),void $(this).after('<span class="imageinfo">'+$(this).attr("title")+"</span>"))}))}))}function show_site_runtime(e){window.setTimeout("show_site_runtime('"+e+"')",1e3),X=new Date(e),Y=new Date,T=Y.getTime()-X.getTime(),i=864e5,d=T/i,D=Math.floor(d),h=24*(d-D),H=Math.floor(h),m=60*(h-H),M=Math.floor(m),s=60*(m-M),S=Math.floor(s),site_runtime.innerHTML=D+"<span>天</span>"+H+"<span>小时</span>"+M+"<span>分</span>"+S+"<span>秒</span>"}function feedme_show(){"none"==$("#feedme-content").css("display")?$("#feedme-content").slideDown():$("#feedme-content").slideUp()}function OwO_show(){"none"==$("#OwO-container").css("display")?$("#OwO-container").slideDown():$("#OwO-container").slideUp()}function sideMenu_toggle(){$("#sliderbar").toggleClass("move_left"),$("#sliderbar").toggleClass("move_right"),$("#sliderbar-cover").toggle(),$("#m_search").toggle(),$("#pjax-container").toggleClass("main_display"),$("#sliderbar-toc").hasClass("move_left")&&toc_toggle()}function toc_toggle(){$("#sliderbar-toc").toggleClass("move_left"),$("#sliderbar-toc").toggleClass("move_right"),$("#m_search").removeClass("m_search_c"),$("#sliderbar-toc-cover").toggle()}function collapse_toggle(){$(".collapse-title").click((function(){"none"==$(this).next().css("display")?$(this).next().slideDown():$(this).next().slideUp()}))}function toc(){if($("#post-content-article").length>0){var e="h1,h2,h3,h4",t="#post-content-article",o={},n=!1;$(t).children(e).each((function(){var e=$(this).text().replace(/[\s|\~|`|\!|\@|\#|\$|\%|\^|\&|\*|\(|\)|\_|\+|\=|\||\|\[|\]|\{|\}|\;|\:|\"|\'|\,|\<|\.|\>|\/|\?|\：|\，|\。]/g,"");e=e.toLowerCase(),o[e]?($(this).attr("id",e+"-"+o[e]),o[e]++,n=!0):(o[e]=1,$(this).attr("id",e),n=!0)})),1==n&&($("#sliderbar-toc").show(),$("#m_toc").show(),$("#m_search").removeClass("m_search_c")),tocbot.init({tocSelector:".toc",contentSelector:t,headingSelector:e,positionFixedSelector:"#sliderbar-toc",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",scrollSmooth:!0,scrollSmoothOffset:0,headingsOffset:-200})}else $("#sliderbar-toc").hide(),$("#m_toc").hide(),$("#m_search").addClass("m_search_c")}function gototop(){return $("body,html").animate({scrollTop:0},500),!1}function show_slide_content(e){"none"==$("#Sliderbar-content-"+e).css("display")?($("#Sliderbar-content-"+e).slideDown(),$("#Sliderbar-content-"+e).prev().find("i").css({"-webkit-transition":" .3s ease all","-moz-transition":".3s ease all","-ms-transition":".3s ease all","-o-transition":".3s ease all",transition:".3s ease all","-webkit-transform":" rotate(180deg)","-moz-transform":" rotate(180deg)","-ms-transform":"rotate(180deg)","-o-transform":"rotate(180deg)",transform:"rotate(180deg)"})):($("#Sliderbar-content-"+e).slideUp(),$("#Sliderbar-content-"+e).prev().find("i").css({"-webkit-transition":" .3s ease all","-moz-transition":".3s ease all","-ms-transition":".3s ease all","-o-transition":".3s ease all",transition:".3s ease all","-webkit-transform":" rotate(0deg)","-moz-transform":" rotate(0deg)","-ms-transform":"rotate(0deg)","-o-transform":"rotate(0deg)",transform:"rotate(0deg)"}))}function ajaxc(){var e="",t=($(".submit").eq(0),$("#comment-form")),o="",n=function(){$(".comment-reply a").click((function(){e=$(this).parent().parent().parent().attr("id")})),$(".cancel-comment-reply a").click((function(){e=""}))};function i(t){t&&($("#textarea").val(""),e=""),n()}n(),$("#comment-form").submit((function(){return commentData=$(this).serializeArray(),$("#comment-loading").fadeIn(),$(".submit").fadeOut(),$("#OwO-container").slideUp(),$.ajax({type:$(this).attr("method"),url:$(this).attr("action"),data:commentData,error:function(e){console.log("Ajax Comment Error"),window.location.reload()},success:function(n){if(!$("#comments",n).length){var a="error"===$("title").eq(0).text().trim().toLowerCase()?$(".container",n).eq(0).text():"评论提交失败！";return toastr.warning(a,"QAQ"),$("#comment-loading").fadeOut(),$(".submit").fadeIn(),i(!1),!1}var s;$("input,textarea",t).attr("disabled",!1),$("#textarea").val(""),o=$(".comment-list",n).html().match(/id=\"?comment-\d+/g).join().match(/\d+/g).sort((function(e,t){return e-t})).pop(),""===e?($(".comment-list").length?$(".prev").length?$("#page-nav ul li a").eq(1).click():(s=$("#li-comment-"+o,n),$(".comment-list").first().prepend(s.addClass("animated fadeInUp"))):(s=$("#li-comment-"+o,n),$(".comments-header").after('<ol class="comment-list"></ol>'),$(".comment-list").first().prepend(s.addClass("animated fadeInUp"))),$("html,body").animate({scrollTop:$("#response").offset().top-100},1e3)):(s=$("#li-comment-"+o,n),$("#"+e).find(".comment-children").length?($("#"+e+" .comment-children .comment-list").first().prepend(s.addClass("animated fadeInUp")),EdgeComment.cancelReply()):($("#"+e).append('<div class="comment-children"><ol class="comment-list"></ol></div>'),$("#"+e+" .comment-children .comment-list").first().prepend(s.addClass("animated fadeInUp")),EdgeComment.cancelReply())),i(!0)},error:function(){$("#comment-loading").fadeOut(),$(".submit").fadeIn()},complete:function(){toastr.success("送信完了","发送成功"),$("#comment-loading").fadeOut(),$(".submit").fadeIn()}}),!1}))}!function(){if(""==document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1"))(new Date).getHours()>22||(new Date).getHours()<6?(document.querySelector('link[title="dark"]').disabled=!0,document.querySelector('link[title="dark"]').disabled=!1,document.cookie="night=1;path=/",toastr.info("夜间模式开启")):document.cookie="night=0;path=/";else{var e=document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/,"$1")||"0";"0"==e?document.querySelector('link[title="dark"]').disabled=!0:"1"==e&&(document.querySelector('link[title="dark"]').disabled=!0,document.querySelector('link[title="dark"]').disabled=!1,toastr.info("夜间模式开启"))}}(),$(document).pjax('a:not(a[target="_blank"], a[no-pjax])',{container:"#pjax-container",fragment:"#pjax-container",timeout:8e3}).on("pjax:send",(function(){pjax_send()})).on("pjax:complete",(function(){pjax_complete()})).on("pjax:click",(function(){pjax_click()})),Smilies={dom:function(e){return document.getElementById(e)},grin:function(e){e=" "+e+" ",myField=this.dom("textarea"),document.selection?(myField.focus(),sel=document.selection.createRange(),sel.text=e,myField.focus()):this.insertTag(e)},insertTag:function(e){myField=Smilies.dom("textarea"),myField.selectionStart||"0"==myField.selectionStart?(startPos=myField.selectionStart,endPos=myField.selectionEnd,cursorPos=startPos,myField.value=myField.value.substring(0,startPos)+e+myField.value.substring(endPos,myField.value.length),cursorPos+=e.length,myField.focus(),myField.selectionStart=cursorPos,myField.selectionEnd=cursorPos):(myField.value+=e,myField.focus())}},console.info(" %c Powered by Edge ","color:#fadfa3;background:#030307;padding:5px 0;"),console.info(" %c made with ❤ by youranreus ","color: #fadfa3; background: #030307; padding:5px 0;")})();